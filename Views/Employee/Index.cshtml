@model IEnumerable<FederalTimeTracker.Models.Employee>

@{
    ViewBag.Title = "Employees";
}

<h2>@ViewBag.Title</h2>

<p>

    @Html.ActionLink("Add New Employee »", "Create", new { controller = "Employee" }, new { @class = "btn btn-primary btn-large" })



</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.FullName)

        </th>
        <th>
            @Html.DisplayNameFor(model => model.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LastName)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.Role)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EmployeeType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EmailID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Active)
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>

                @Html.ActionLink(item.FullName, "Details", new { id = item.EmployeeId })

            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Role)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EmployeeType)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EmailID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Active)
            </td>

            <td>
                <input type="button" value="Salary" data="@item.EmployeeId" class="btn btn-primary btn-xs myPop" />

                @*@Html.ActionLink("Delete", "Delete", new { id = item.EmployeeId }, new { @class = "btn btn-danger btn-small" })*@
            </td>
        </tr>
    }

</table>
<div id="dialog-form" title="Employee Salary">
    <div class="form-horizontal">


        <div class="form-group">
            <div class="control-label col-md-2"> Date </div>
            <div class="col-md-4">
                @Html.TextBox("SalaryDate", "", new { @class = "form-control input-normal" })


            </div>
        </div><div class="form-group">

            <div class="control-label col-md-2">Salary</div>
            <div class="input-group">
                <span class="input-group-addon">$</span>@Html.TextBox("Salary", "", new { @class = "form-control input-normal" })
                &nbsp; <input type="button" value="Save" class="btn btn-primary" />
            </div>



        </div>

    </div>

    <p class="validateTips"></p>



    <table id="EmployeeSalary" title="Employee Salary" class="table" style="width:100%">
        <thead>
            <tr class="ui-widget-header ">
                <th>Date</th>
                <th>Salary</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr class="ui-widget-content">
                <td><a href="#">2012-13</a></td>
                <td><a href="#">$100,000.00</a></td>
                <td><input type="button" value="Delete" class="btn btn-danger btn-xs" /></td>
            </tr>
            <tr class="ui-widget-content">
                <td><a href="#">2011-12</a></td>
                <td><a href="#">$150,000.00</a></td>
                <td><input type="button" value="Delete" class="btn btn-danger btn-xs" /></td>
            </tr>
        </tbody>
        <tbody></tbody>
    </table>

</div>

@section Scripts {
    @Styles.Render("~/Content/themes/base/css")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")


    <script>
        //var name = $("#name"),
        // email = $("#email"),
        // password = $("#password"),
        // allFields = $([]).add(name).add(email).add(password),
        // tips = $(".validateTips");

        $("#dialog-form").dialog({
            autoOpen: false,
            height: 600,
            width: 650,
            modal: true,

            buttons: {
                "Close": function() {
                    $(this).dialog("close");
                }
            },
            close: function() {
                $(this).dialog("close");
            }

        });

        $(".myPop")
            .button()
            .click(function() {
                //event.preventDefault();
                var clientId = $(this).attr("data");

                $.ajax({
                    
                    url: '@Url.Action("Create", "Salary")' + '?id=' + clientId,


                    type: "GET",
                }).done(function(result) {
                    $("#dialog-form").html(result).dialog("open");
                });

                //$("#dialog-form").dialog("open");
            });


        $(document).ready(function() {
            $('.datepicker').datepicker({
                autoclose: true
            });
        });


    </script>
}

